(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{184:function(e,t,a){e.exports=a(454)},434:function(e,t,a){},454:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(181),o=a.n(c),r=a(59),i=a.n(r),u=a(116),p=a(48),h=a(38),f=a(114),m=a.n(f),l=(a(423),a(117)),d=a.n(l),b=(a(434),a(435));var w=function(){var e="http://localtest.me:32844",t=Object(h.d)(),a=Object(n.useState)(""),c=Object(p.a)(a,2),o=c[0],r=c[1],f=Object(n.useState)(""),w=Object(p.a)(f,2),j=w[0],O=w[1],v=Object(n.useState)({}),g=Object(p.a)(v,2),E=g[0],S=g[1],k=Object(n.useState)({}),x=Object(p.a)(k,2),y=x[0],A=x[1],B=Object(n.useState)({}),D=Object(p.a)(B,2),J=D[0],L=D[1];function N(a){var n=function(e){var t={};return Object.keys(e).forEach((function(a){isNaN(a)&&(t[a]=e[a])})),t}(a.formData);o.length>0?b.put(e+"/api/1/metastore/schemas/dataset/items/"+o,n).then((function(){O("The dataset with identifier "+o+" has been updated.")})).catch((function(e){e.response&&O(e.response.data.message)})):b.post(e+"/api/1/metastore/schemas/dataset/items",n).then((function(e){var a=e.data.identifier,n=new URLSearchParams(window.location.search);n.set("id",a),t.push(window.location.pathname+"?"+n.toString()),r(a),O("A dataset with the identifier "+a+" has been created.")})).catch((function(e){e.response&&O(e.response.data.message)}))}function P(){var e=new URLSearchParams(window.location.search).getAll("id");return e.length>0?e[0]:null}return Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(i.a.mark((function t(){var a,n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get(e+"/api/1/metastore/schemas/dataset");case 2:return a=t.sent,S(a.data),t.next=6,b.get(e+"/api/1/metastore/schemas/dataset.ui");case 6:n=t.sent,A(n.data),(s=P())&&r(s);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function t(){return(t=Object(u.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.get(e+"/api/1/metastore/schemas/dataset/items/"+o);case 2:a=t.sent,L(a.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[o]),Object(n.useEffect)((function(){j.length>0&&l.toast.success(j)}),[j]),s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{timerExpires:5e3,position:"top-left",pauseOnHover:!0,intent:"success"}),s.a.createElement(m.a,{id:"dc-json-editor",schema:E,formData:J,uiSchema:y,autocomplete:"on",onSubmit:function(e){O(""),N(e)},onError:function(e){console.log(e)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(115);o.a.render(s.a.createElement(j.a,null,s.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[184,1,2]]]);
//# sourceMappingURL=main.8b19c55b.chunk.js.map