dkan_datastore.summary:
  path: '/api/1/datastore/imports/{uuid}'
  methods: [GET]
  defaults:
    _controller: '\Drupal\dkan_datastore\Controller\Api::summary'
  requirements:
    _permission: 'access content'

dkan_datastore.import_deferred:
  path: '/api/1/datastore/imports/{uuid}/deferred'
  methods: [PUT]
  defaults:
    _controller: '\Drupal\dkan_datastore\Controller\Api::import'
    deferred: true
  requirements:
    _permission: 'dkan_datastore_api_import'
  options:
    _auth: ['basic_auth']

dkan_datastore.import:
  path: '/api/1/datastore/imports/{uuid}'
  methods: [PUT]
  defaults:
    _controller: '\Drupal\dkan_datastore\Controller\Api::import'
    deferred: false
  requirements:
    _permission: 'dkan_datastore_api_import'
  options:
    _auth: ['basic_auth']

dkan_datastore.delete:
  path: '/api/1/datastore/imports/{uuid}'
  methods: [DELETE]
  defaults:
    _controller: '\Drupal\dkan_datastore\Controller\Api::delete'
  requirements:
    _permission: 'dkan_datastore_api_drop'
  options:
    _auth: ['basic_auth']

dkan_datastore.list:
  path: '/api/1/datastore/imports'
  methods: [GET]
  defaults:
    _controller: '\Drupal\dkan_datastore\Controller\Api::list'
  requirements:
    _permission: 'access content'

dkan_datastore.version.1.datastore:
  path: '/api/1/datastore'
  methods: [GET]
  defaults:
    { _controller: '\Drupal\dkan_api\Controller\Docs::getComplete'}
  requirements:
    _permission: 'access content'
